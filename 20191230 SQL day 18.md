# 20191230 SQL day 18

- 조인 : 가로연결
  - 집합 연산자: 세로 연결

```sql
select * from emp;
select * from dept;
select * from emp, dept;
select * from emp, dept where emp.deptno = dept.deptno;-- 이너조인 (null)은 제외시킨다.
select * from emp, dept where emp.deptno = dept.deptno(+);-- dept테이블에 조인하는 동안만큼 null로 해준다.(아우터조인)
--조인은 실제 저장되는 것은 아니다. select 하는 동안에만 실행된다.
-- 등가조인 사용하는 것을 비등가조인, 등가조인 사용하는 것을 등가조인 이라고 한다.



```

- 외부조인
  - 왼쪽 외부조인/ 오른쪽 외부조인
    - 왼쪽 외부조인은 왼쪽열을 기준으로 오른쪽의 데이터 존재 여부와 관계 없이 출력하라는 뜻 
    - 오른쪽 외부조인은 오른쪽 열을 기준으로 왼쪽 열 데이터의 존재와 상관없이 데이터를 출력하라는 뜻

```sql
select * from emp, dept where emp.deptno(+)= dept.deptno;
-- select * from emp, dept where emp.deptno(+)= dept.deptno(+); -> 지원하지 않는다.
-- 양쪽 null값을 모두 포함하기 위해서는 union을 사용해야 한다.
select * from emp, dept  where emp.deptno = dept.deptno(+)
union
select * from emp, dept  where emp.deptno(+) = dept.deptno;
```



```sql
-- 자체 조인 예시
select e1.empno, e1.ename, e1.mgr, e2.empno "mgr_empno", e2.ename "mgr_ename"
from emp e1, emp e2
where e1.mgr = e2.empno;
-- king은 null 값이기 때문에 나타나지 않는다.
-- king 값도 나타내기 위해서 아래와 같이 하면 된다.
select e.ename, nvl(m.ename, '없음')
from emp e, emp m
where e.mgr= m.empno(+);
```

